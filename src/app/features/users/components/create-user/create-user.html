<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h2>Create New User</h2>

            <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

                <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" id="firstName" class="form-control" name="firstName" formControlName="firstName"
                        required />

                    @if(userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched)
                    {
                    <div class="text-danger">
                        @if(userForm.get('firstName')?.hasError('required')){
                        <small>First name is required.</small>
                        }
                        @else if(userForm.get('firstName')?.hasError('minlength')){
                        <small>First name is too short.</small>
                        }
                        @else if(userForm.get('firstName')?.hasError('maxlength')){
                        <small>First name is too long.</small>
                        }
                    </div>
                    }
                </div>

                <div class="form-group">
                    <label for="lastName">Last Name</label>
                    <input type="text" id="lastName" class="form-control" name="lastName" formControlName="lastName"
                        required />
                    @if(userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched)
                    {
                    <div class="text-danger">
                        @if(userForm.get('lastName')?.hasError('required')){
                        <small>Last name is required.</small>
                        }
                        @else if(userForm.get('lastName')?.hasError('minlength')){
                        <small>Last name is too short.</small>
                        }
                        @else if(userForm.get('lastName')?.hasError('maxlength')){
                        <small>Last name is too long.</small>
                        }
                    </div>
                    }
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" class="form-control" name="email" formControlName="email" required />
                    @if(userForm.get('email')?.invalid && userForm.get('email')?.touched)
                    {
                    <div class="text-danger">
                        @if(userForm.get('email')?.hasError('required')){
                        <small>Email is required.</small>
                        }
                        @else if(userForm.get('email')?.hasError('email')){
                        <small>Email is invalid.</small>
                        }
                    </div>
                    }
                </div>

                <div class="form-group">
                    <label for="role">Role</label>
                    <select id="role" class="form-control" name="role" formControlName="role" required>
                        <option [value]="" disabled>Select Role</option>
                        @for(role of userRoles; track role.id) {
                        <option [value]="role.id">{{ role.name }}</option>
                        }
                    </select>
                    @if(userForm.get('role')?.invalid && userForm.get('role')?.touched)
                    {
                    <div class="text-danger">
                        @if(userForm.get('role')?.hasError('required')){
                        <small>Role is required.</small>
                        }
                    </div>
                    }
                </div>

                <button type="submit" class="btn btn-primary">
                    Create User
                </button>
            </form>

            <pre>
                {{userForm.value | json}}
            </pre>

        </div>
    </div>
</div>